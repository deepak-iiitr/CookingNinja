{"version":3,"sources":["context/ThemeContext.js","hooks/useTheme.js","components/Searchbar.js","components/Navbar.js","firebase/config.js","assets/trashcan.svg","components/RecipeList.js","pages/home/Home.js","pages/create/Create.js","pages/search/Search.js","hooks/useFetch.js","pages/recipe/Recipe.js","assets/mode-icon.svg","components/ThemeSelector.js","App.js","index.js"],"names":["ThemeContext","createContext","themeReducer","state","action","type","color","payload","mode","ThemeProvider","children","useReducer","dispatch","Provider","value","changeColor","changeMode","useTheme","context","useContext","undefined","Error","Searchbar","useState","term","setTerm","history","useHistory","className","onSubmit","e","preventDefault","push","htmlFor","id","onChange","target","required","Navbar","style","background","to","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","RecipeList","recipes","length","map","recipe","title","cookingTime","method","substring","onClick","collection","doc","delete","src","Trashcan","alt","Home","data","setData","isPending","setIsPending","error","setError","useEffect","unsub","onSnapshot","snapshot","empty","results","docs","forEach","err","message","Create","setTitle","setMethod","setCookingTime","newIngredient","setNewIngredient","ingredients","setIngredients","ingredientInput","useRef","handleSubmit","a","add","console","log","ref","ing","trim","includes","prevIngredients","current","focus","i","Search","queryString","useLocation","search","query","URLSearchParams","get","url","options","setOptions","postData","headers","body","JSON","stringify","controller","AbortController","fetchData","fetchOptions","fetch","signal","res","ok","statusText","json","name","abort","useFetch","Recipe","useParams","setRecipe","exists","update","themeColors","ThemeSelector","modeIcon","filter","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gaAEaA,EAAeC,0BAEtBC,EAAe,SAACC,EAAOC,GAC3B,OAAQA,EAAOC,MACb,IAAK,eACH,OAAO,2BAAKF,GAAZ,IAAmBG,MAAOF,EAAOG,UACnC,IAAK,cACH,OAAO,2BAAKJ,GAAZ,IAAmBK,KAAMJ,EAAOG,UAClC,QACE,OAAOJ,IAIN,SAASM,EAAT,GAAsC,IAAbC,EAAY,EAAZA,SAC9B,EAA0BC,qBAAWT,EAAc,CACjDI,MAAO,UACPE,KAAM,SAFR,mBAAOL,EAAP,KAAcS,EAAd,KAYA,OACE,cAACZ,EAAaa,SAAd,CAAuBC,MAAK,2BAAMX,GAAN,IAAaY,YARvB,SAACT,GACnBM,EAAS,CAAEP,KAAM,eAAgBE,QAASD,KAOYU,WALrC,SAACR,GAClBI,EAAS,CAAEP,KAAM,cAAeE,QAASC,OAIzC,SACGE,IC3BA,IAAMO,EAAW,WACtB,IAAMC,EAAUC,qBAAWnB,GAE3B,QAAgBoB,IAAZF,EACF,MAAM,IAAIG,MAAM,kDAGlB,OAAOH,G,YCJM,SAASI,IACtB,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACMC,EAAUC,cAQhB,OACE,qBAAKC,UAAU,YAAf,SACE,uBAAMC,SARW,SAACC,GACpBA,EAAEC,iBAEFL,EAAQM,KAAR,oBAA0BR,KAKxB,UACE,uBAAOS,QAAQ,SAAf,qBACA,uBACEC,GAAG,SACH7B,KAAK,OACL8B,SAAU,SAACL,GAAD,OAAOL,EAAQK,EAAEM,OAAOtB,QAClCuB,UAAQ,SCjBH,SAASC,IACtB,IAAQhC,EAAUW,IAAVX,MAER,OACE,qBAAKsB,UAAU,SAASW,MAAO,CAAEC,WAAYlC,GAA7C,SACE,gCACE,cAAC,IAAD,CAAMmC,GAAG,IAAIb,UAAU,QAAvB,SACE,iDAEF,cAAC,EAAD,IACA,cAAC,IAAD,CAAMa,GAAG,UAAT,gC,kBCJRC,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,2CACZC,UAAW,2BACXC,cAAe,uCACfC,kBAAmB,eACnBC,MAAO,8CAOT,IAAMC,EAAmBR,IAASS,YChBnB,MAA0B,qC,MCQ1B,SAASC,EAAT,GAAkC,IAAZC,EAAW,EAAXA,QAC3B7C,EAASS,IAATT,KAER,GAAuB,IAAnB6C,EAAQC,OACV,OAAO,qBAAK1B,UAAU,QAAf,mCAOT,OACE,qBAAKA,UAAU,cAAf,SACGyB,EAAQE,KAAI,SAAAC,GAAM,OACjB,sBAAqB5B,UAAS,eAAUpB,GAAxC,UACE,6BAAKgD,EAAOC,QACZ,8BAAID,EAAOE,YAAX,eACA,gCAAMF,EAAOG,OAAOC,UAAU,EAAG,KAAjC,SACA,cAAC,IAAD,CAAMnB,GAAE,mBAAce,EAAOtB,IAA7B,uBACA,qBACEN,UAAU,SACViC,QAAS,kBAdE3B,EAcgBsB,EAAOtB,QAb1CgB,EAAiBY,WAAW,WAAWC,IAAI7B,GAAI8B,SAD7B,IAAC9B,GAeX+B,IAAKC,EAAUC,IAAI,kBARbX,EAAOtB,S,MCfV,SAASkC,IACtB,MAAwB7C,mBAAS,MAAjC,mBAAO8C,EAAP,KAAaC,EAAb,KACA,EAAkC/C,oBAAS,GAA3C,mBAAOgD,EAAP,KAAkBC,EAAlB,KACA,EAA0BjD,oBAAS,GAAnC,mBAAOkD,EAAP,KAAcC,EAAd,KA2BA,OAzBAC,qBAAU,WACRH,GAAa,GAEb,IAAMI,EAAQ1B,EAAiBY,WAAW,WAAWe,YAAW,SAAAC,GAC9D,GAAIA,EAASC,MACXL,EAAS,sBACTF,GAAa,OACR,CACL,IAAIQ,EAAU,GACdF,EAASG,KAAKC,SAAQ,SAAAnB,GAEpBiB,EAAQhD,KAAR,2BAAkB+B,EAAIM,QAAtB,IAA8BnC,GAAI6B,EAAI7B,SAExCoC,EAAQU,GACRR,GAAa,OAEf,SAAEW,GACFT,EAASS,EAAIC,SACbZ,GAAa,MAGf,OAAO,kBAAMI,OAEZ,IAGD,sBAAKhD,UAAU,OAAf,UACG6C,GAAS,mBAAG7C,UAAU,QAAb,SAAsB6C,IAC/BF,GAAa,mBAAG3C,UAAU,UAAb,wBACbyC,GAAQ,cAAC,EAAD,CAAYhB,QAASgB,O,2CClCrB,SAASgB,IACtB,MAA0B9D,mBAAS,IAAnC,mBAAOkC,EAAP,KAAc6B,EAAd,KACA,EAA4B/D,mBAAS,IAArC,mBAAOoC,EAAP,KAAe4B,EAAf,KACA,EAAsChE,mBAAS,IAA/C,mBAAOmC,EAAP,KAAoB8B,EAApB,KACA,EAA0CjE,mBAAS,IAAnD,mBAAOkE,EAAP,KAAsBC,EAAtB,KACA,EAAsCnE,mBAAS,IAA/C,mBAAOoE,EAAP,KAAoBC,EAApB,KACMC,EAAkBC,iBAAO,MAEzBpE,EAAUC,cAEVoE,EAAY,uCAAG,WAAOjE,GAAP,eAAAkE,EAAA,6DACnBlE,EAAEC,iBACIgC,EAAM,CAAEN,QAAOkC,cAAahC,SAAQD,YAAaA,EAAc,YAFlD,kBAKXR,EAAiBY,WAAW,WAAWmC,IAAIlC,GALhC,OAMjBrC,EAAQM,KAAK,KANI,gDAQjBkE,QAAQC,IAAR,MARiB,yDAAH,sDAuBlB,OACE,sBAAKvE,UAAU,SAAf,UACE,oBAAIA,UAAU,aAAd,8BACA,uBAAMC,SAAUkE,EAAhB,UAEE,kCACE,iDACA,uBACE1F,KAAK,OACL8B,SAAU,SAACL,GAAD,OAAOwD,EAASxD,EAAEM,OAAOtB,QACnCA,MAAO2C,EACPpB,UAAQ,OAIZ,kCACE,uDACA,sBAAKT,UAAU,cAAf,UACE,uBACEvB,KAAK,OACL8B,SAAU,SAACL,GAAD,OAAO4D,EAAiB5D,EAAEM,OAAOtB,QAC3CA,MAAO2E,EACPW,IAAKP,IAEP,wBAAQhC,QAnCA,SAAC/B,GACjBA,EAAEC,iBACF,IAAMsE,EAAMZ,EAAca,OAEtBD,IAAQV,EAAYY,SAASF,IAC/BT,GAAe,SAAAY,GAAe,4BAAQA,GAAR,CAAyBf,OAEzDC,EAAiB,IACjBG,EAAgBY,QAAQC,SA2BY9E,UAAU,MAAtC,uBAGJ,sDAAyB+D,EAAYpC,KAAI,SAAAoD,GAAC,OAAI,+BAAaA,EAAb,OAASA,SAEvD,kCACE,kDACA,0BACExE,SAAU,SAACL,GAAD,OAAOyD,EAAUzD,EAAEM,OAAOtB,QACpCA,MAAO6C,EACPtB,UAAQ,OAIZ,kCACE,2DACA,uBACEhC,KAAK,SACL8B,SAAU,SAACL,GAAD,OAAO0D,EAAe1D,EAAEM,OAAOtB,QACzCA,MAAO4C,EACPrB,UAAQ,OAIZ,wBAAQT,UAAU,MAAlB,0B,MCjFO,SAASgF,IACtB,IAAMC,EAAcC,cAAcC,OAE5BC,EADc,IAAIC,gBAAgBJ,GACdK,IAAI,KAG9B,ECXsB,SAACC,GAAyB,IAApBxD,EAAmB,uDAAV,MACrC,EAAwBpC,mBAAS,MAAjC,mBAAO8C,EAAP,KAAaC,EAAb,KACA,EAAkC/C,oBAAS,GAA3C,mBAAOgD,EAAP,KAAkBC,EAAlB,KACA,EAA0BjD,mBAAS,MAAnC,mBAAOkD,EAAP,KAAcC,EAAd,KACA,EAA8BnD,mBAAS,MAAvC,mBAAO6F,EAAP,KAAgBC,EAAhB,KAEMC,EAAW,SAACA,GAChBD,EAAW,CACT1D,OAAQ,OACR4D,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUJ,MA4CzB,OAxCA3C,qBAAU,WACR,IAAMgD,EAAa,IAAIC,gBAEjBC,EAAS,uCAAG,WAAOC,GAAP,iBAAA9B,EAAA,6DAChBxB,GAAa,GADG,kBAIIuD,MAAMZ,EAAD,YAAC,eAAUW,GAAX,IAAyBE,OAAQL,EAAWK,UAJrD,WAIRC,EAJQ,QAKNC,GALM,sBAMN,IAAI7G,MAAM4G,EAAIE,YANR,uBAQKF,EAAIG,OART,OAQR/D,EARQ,OAUdG,GAAa,GACbF,EAAQD,GACRK,EAAS,MAZK,kDAcG,eAAb,KAAI2D,KACNnC,QAAQC,IAAI,0BAEZ3B,GAAa,GACbE,EAAS,6BAlBG,0DAAH,sDA+Bf,MAPe,QAAXf,GACFkE,IAEa,SAAXlE,GAAqByD,GACvBS,EAAUT,GAGL,WACLO,EAAWW,WAGZ,CAACnB,EAAKxD,EAAQyD,IAEV,CAAE/C,OAAME,YAAWE,QAAO6C,YD7CEiB,CADvB,mCAAqCvB,GACzCvC,EAAR,EAAQA,MAAOF,EAAf,EAAeA,UAAWF,EAA1B,EAA0BA,KAE1B,OACE,gCACE,qBAAIzC,UAAU,aAAd,gCAA+CoF,EAA/C,OACCvC,GAAS,mBAAG7C,UAAU,QAAb,SAAsB6C,IAC/BF,GAAa,mBAAG3C,UAAU,UAAb,wBACbyC,GAAQ,cAAC,EAAD,CAAYhB,QAASgB,O,MEZrB,SAASmE,IACtB,IAAQtG,EAAOuG,cAAPvG,GACA1B,EAASS,IAATT,KAER,EAAkCe,oBAAS,GAA3C,mBAAOgD,EAAP,KAAkBC,EAAlB,KACA,EAA0BjD,mBAAS,MAAnC,mBAAOkD,EAAP,KAAcC,EAAd,KACA,EAA4BnD,mBAAS,MAArC,mBAAOiC,EAAP,KAAekF,EAAf,KAEA/D,qBAAU,WACRH,GAAa,GAEb,IAAMI,EAAQ1B,EAAiBY,WAAW,WAAWC,IAAI7B,GAAI2C,YAAW,SAAAd,GAClEA,EAAI4E,QACNnE,GAAa,GACbkE,EAAU3E,EAAIM,UAEdG,GAAa,GACbE,EAAS,kCAIb,OAAO,kBAAME,OAEZ,CAAC1C,IAQJ,OACE,sBAAKN,UAAS,iBAAYpB,GAA1B,UACGiE,GAAS,mBAAG7C,UAAU,QAAb,SAAsB6C,IAC/BF,GAAa,mBAAG3C,UAAU,UAAb,wBACb4B,GACC,qCACE,oBAAI5B,UAAU,aAAd,SAA4B4B,EAAOC,QACnC,uCAAUD,EAAOE,YAAjB,eACA,6BACGF,EAAOmC,YAAYpC,KAAI,SAAA8C,GAAG,OAAI,oCAASA,QAE1C,mBAAGzE,UAAU,SAAb,SAAuB4B,EAAOG,SAC9B,wBAAQE,QAlBI,WAClBX,EAAiBY,WAAW,WAAWC,IAAI7B,GAAI0G,OAAO,CACpDnF,MAAO,oCAgBH,6BCnDK,UAA0B,sCCMnCoF,G,MAAc,CAAC,UAAW,UAAW,YAE5B,SAASC,IACtB,MAA0C7H,IAAlCF,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,WAAYR,EAAjC,EAAiCA,KAOjC,OAFA0F,QAAQC,IAAI3F,GAGV,sBAAKoB,UAAU,iBAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBACEiC,QATW,WACjB7C,EAAoB,SAATR,EAAkB,QAAU,SASjCyD,IAAK8E,EACLxG,MAAO,CAAEyG,OAAiB,SAATxI,EAAkB,eAAiB,eACpD2D,IAAI,6BAGR,qBAAKvC,UAAU,gBAAf,SACGiH,EAAYtF,KAAI,SAAAjD,GAAK,OACpB,qBAEEuD,QAAS,kBAAM9C,EAAYT,IAC3BiC,MAAO,CAAEC,WAAYlC,IAFhBA,W,MCYF2I,MA3Bf,WACE,IAAQzI,EAASS,IAATT,KAER,OACE,qBAAKoB,UAAS,cAASpB,GAAvB,SACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO0I,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,eAAZ,SACE,cAAC,EAAD,eC3BZC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC7I,EAAD,UACE,cAAC,EAAD,QAGJ8I,SAASC,eAAe,W","file":"static/js/main.370f3e2c.chunk.js","sourcesContent":["import { createContext, useReducer } from 'react'\n\nexport const ThemeContext = createContext()\n\nconst themeReducer = (state, action) => {\n  switch (action.type) {\n    case 'CHANGE_COLOR':\n      return { ...state, color: action.payload }\n    case 'CHANGE_MODE':\n      return { ...state, mode: action.payload }\n    default:\n      return state\n  }\n}\n\nexport function ThemeProvider({ children }) {\n  const [state, dispatch] = useReducer(themeReducer, {\n    color: '#58249c',\n    mode: 'dark'\n  })\n\n  const changeColor = (color) => {\n    dispatch({ type: 'CHANGE_COLOR', payload: color })\n  }\n  const changeMode = (mode) => {\n    dispatch({ type: 'CHANGE_MODE', payload: mode })\n  }\n\n  return (\n    <ThemeContext.Provider value={{...state, changeColor, changeMode}}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}","import { useContext } from \"react\"\nimport { ThemeContext } from \"../context/ThemeContext\"\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext)\n\n  if (context === undefined) {\n    throw new Error(\"useTheme() must be used inside a ThemeProvider\")\n  }\n\n  return context\n}","import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\n// styles\nimport './Searchbar.css'\n\nexport default function Searchbar() {\n  const [term, setTerm] = useState('')\n  const history = useHistory()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    history.push(`/search?q=${term}`)\n  }\n\n  return (\n    <div className=\"searchbar\">\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"search\">Search:</label>\n        <input \n          id=\"search\" \n          type=\"text\" \n          onChange={(e) => setTerm(e.target.value)} \n          required \n        />\n      </form>\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom'\nimport { useTheme } from '../hooks/useTheme'\n\n// styles\nimport './Navbar.css'\nimport Searchbar from './Searchbar'\n\nexport default function Navbar() {\n  const { color } = useTheme()\n\n  return (\n    <div className=\"navbar\" style={{ background: color }}>\n      <nav>\n        <Link to=\"/\" className=\"brand\">\n          <h1>Cooking Ninja</h1>\n        </Link>\n        <Searchbar />\n        <Link to=\"/create\">Create Recipe</Link>\n      </nav>\n    </div>\n  )\n}\n","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCIRC1VDNa_6govxseBjYXpnm2l6cFX1UI\",\r\n  authDomain: \"cooking-ninja-site-5ec43.firebaseapp.com\",\r\n  projectId: \"cooking-ninja-site-5ec43\",\r\n  storageBucket: \"cooking-ninja-site-5ec43.appspot.com\",\r\n  messagingSenderId: \"384803385601\",\r\n  appId: \"1:384803385601:web:bed487ca6cde355254ab00\"\r\n};\r\n\r\n// init firebase\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\n// init services\r\nconst projectFirestore = firebase.firestore()\r\n\r\nexport { projectFirestore }","export default __webpack_public_path__ + \"static/media/trashcan.24315ab3.svg\";","import { Link } from 'react-router-dom'\nimport { useTheme } from '../hooks/useTheme'\nimport Trashcan from '../assets/trashcan.svg'\nimport { projectFirestore } from \"../firebase/config\"\n\n// styles\nimport './RecipeList.css'\n\nexport default function RecipeList({ recipes }) {\n  const { mode } = useTheme()\n\n  if (recipes.length === 0) {\n    return <div className=\"error\">No recipes to load...</div>\n  }\n\n  const handleClick = (id) => {\n    projectFirestore.collection('recipes').doc(id).delete()\n  }\n\n  return (\n    <div className=\"recipe-list\">\n      {recipes.map(recipe => (\n        <div key={recipe.id} className={`card ${mode}`}>\n          <h3>{recipe.title}</h3>\n          <p>{recipe.cookingTime} to make.</p>\n          <div>{recipe.method.substring(0, 100)}...</div>\n          <Link to={`/recipes/${recipe.id}`}>Cook This</Link>\n          <img \n            className=\"delete\"\n            onClick={() => handleClick(recipe.id)}\n            src={Trashcan} alt=\"delete icon\" \n          />\n        </div>\n      ))}\n    </div>\n  )\n}","import { useState, useEffect } from 'react'\nimport { projectFirestore } from '../../firebase/config'\nimport RecipeList from '../../components/RecipeList'\n\n// styles\nimport './Home.css'\n\nexport default function Home() {\n  const [data, setData] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    setIsPending(true)\n\n    const unsub = projectFirestore.collection('recipes').onSnapshot(snapshot => {\n      if (snapshot.empty) {\n        setError('No recipes to load')\n        setIsPending(false)\n      } else {\n        let results = []\n        snapshot.docs.forEach(doc => {\n          // console.log(doc)\n          results.push({ ...doc.data(), id: doc.id })\n        })\n        setData(results)\n        setIsPending(false)\n      }\n    },( err) => {\n      setError(err.message)\n      setIsPending(false)\n    })\n\n    return () => unsub()\n\n  }, [])\n\n  return (\n    <div className=\"home\">\n      {error && <p className=\"error\">{error}</p>}\n      {isPending && <p className=\"loading\">Loading...</p>}\n      {data && <RecipeList recipes={data} />}\n    </div>\n  )\n}","import { useState, useRef, useEffect } from 'react'\nimport { projectFirestore } from '../../firebase/config'\nimport { useHistory } from 'react-router-dom'\n\n// styles\nimport './Create.css'\n\nexport default function Create() {  \n  const [title, setTitle] = useState('')\n  const [method, setMethod] = useState('')\n  const [cookingTime, setCookingTime] = useState('')\n  const [newIngredient, setNewIngredient] = useState('')\n  const [ingredients, setIngredients] = useState([])\n  const ingredientInput = useRef(null)\n\n  const history = useHistory()\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    const doc = { title, ingredients, method, cookingTime: cookingTime + ' minutes' }\n\n    try {\n      await projectFirestore.collection('recipes').add(doc)\n      history.push('/')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const handleAdd = (e) => {\n    e.preventDefault()\n    const ing = newIngredient.trim()\n\n    if (ing && !ingredients.includes(ing)) {\n      setIngredients(prevIngredients => [...prevIngredients, newIngredient])\n    }\n    setNewIngredient('')\n    ingredientInput.current.focus()\n  }\n\n  return (\n    <div className=\"create\">\n      <h2 className=\"page-title\">Add a New Recipe</h2>\n      <form onSubmit={handleSubmit}>\n\n        <label>\n          <span>Recipe title:</span>\n          <input \n            type=\"text\" \n            onChange={(e) => setTitle(e.target.value)}\n            value={title}\n            required\n          />\n        </label>\n\n        <label>\n          <span>Recipe Ingredients:</span>\n          <div className=\"ingredients\">\n            <input \n              type=\"text\" \n              onChange={(e) => setNewIngredient(e.target.value)}\n              value={newIngredient}\n              ref={ingredientInput}\n            />\n            <button onClick={handleAdd} className=\"btn\">add</button>\n          </div>\n        </label>\n        <p>Current ingredients: {ingredients.map(i => <em key={i}>{i}, </em>)}</p>\n\n        <label>\n          <span>Recipe Method:</span>\n          <textarea \n            onChange={(e) => setMethod(e.target.value)}\n            value={method}\n            required\n          />\n        </label>\n\n        <label>\n          <span>Cooking time (minutes):</span>\n          <input \n            type=\"number\" \n            onChange={(e) => setCookingTime(e.target.value)}\n            value={cookingTime}\n            required \n          />\n        </label>\n\n        <button className=\"btn\">submit</button>\n      </form>\n    </div>\n  )\n}","import { useFetch } from '../../hooks/useFetch'\nimport { useLocation } from 'react-router-dom'\nimport RecipeList from '../../components/RecipeList'\n\n// styles\nimport './Search.css'\n\nexport default function Search() {\n  const queryString = useLocation().search\n  const queryParams = new URLSearchParams(queryString)\n  const query = queryParams.get('q')\n\n  const url = 'http://localhost:3000/recipes?q=' + query\n  const { error, isPending, data } = useFetch(url)\n\n  return (\n    <div>\n      <h2 className=\"page-title\">Recipes including \"{query}\"</h2>\n      {error && <p className=\"error\">{error}</p>}\n      {isPending && <p className=\"loading\">Loading...</p>}\n      {data && <RecipeList recipes={data} />}\n    </div>\n  )\n}","import { useState, useEffect } from \"react\"\n\nexport const useFetch = (url, method = \"GET\") => {\n  const [data, setData] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const [error, setError] = useState(null)\n  const [options, setOptions] = useState(null)\n\n  const postData = (postData) => {\n    setOptions({\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(postData)\n    })\n  }\n\n  useEffect(() => {\n    const controller = new AbortController()\n\n    const fetchData = async (fetchOptions) => {\n      setIsPending(true)\n      \n      try {\n        const res = await fetch(url, { ...fetchOptions, signal: controller.signal })\n        if(!res.ok) {\n          throw new Error(res.statusText)\n        }\n        const data = await res.json()\n\n        setIsPending(false)\n        setData(data)\n        setError(null)\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"the fetch was aborted\")\n        } else {\n          setIsPending(false)\n          setError('Could not fetch the data')\n        }\n      }\n    }\n\n    // invoke the function\n    if (method === \"GET\") {\n      fetchData()\n    }\n    if (method === \"POST\" && options) {\n      fetchData(options)\n    }\n\n    return () => {\n      controller.abort()\n    }\n\n  }, [url, method, options])\n\n  return { data, isPending, error, postData }\n}","import { useParams } from 'react-router-dom'\nimport { useTheme } from '../../hooks/useTheme'\nimport { useState, useEffect } from 'react'\nimport { projectFirestore } from '../../firebase/config'\n\n// styles\nimport './Recipe.css'\n\nexport default function Recipe() {\n  const { id } = useParams()\n  const { mode } = useTheme()\n\n  const [isPending, setIsPending] = useState(false)\n  const [error, setError] = useState(null)\n  const [recipe, setRecipe] = useState(null)\n\n  useEffect(() => {\n    setIsPending(true)\n\n    const unsub = projectFirestore.collection('recipes').doc(id).onSnapshot(doc => {\n      if (doc.exists) {\n        setIsPending(false)\n        setRecipe(doc.data())\n      } else {\n        setIsPending(false)\n        setError(`Could not find that recipe`)\n      }\n    })\n\n    return () => unsub()\n\n  }, [id])\n\n  const handleClick = () => {\n    projectFirestore.collection('recipes').doc(id).update({\n      title: 'Something completely different'\n    })\n  }\n\n  return (\n    <div className={`recipe ${mode}`}>\n      {error && <p className=\"error\">{error}</p>}\n      {isPending && <p className=\"loading\">Loading...</p>}\n      {recipe && (\n        <>\n          <h2 className=\"page-title\">{recipe.title}</h2>\n          <p>Takes {recipe.cookingTime} to cook.</p>\n          <ul>\n            {recipe.ingredients.map(ing => <li key={ing}>ing</li>)}\n          </ul>\n          <p className=\"method\">{recipe.method}</p>\n          <button onClick={handleClick}>Update me</button>\n        </>\n      )}\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/mode-icon.651cf792.svg\";","import { useTheme } from \"../hooks/useTheme\"\nimport modeIcon from '../assets/mode-icon.svg'\n\n// styles\nimport './ThemeSelector.css'\n\nconst themeColors = ['#58249c', '#249c6b', '#b70233']\n\nexport default function ThemeSelector() {\n  const { changeColor, changeMode, mode } = useTheme()\n\n  const toggleMode = () => {\n    changeMode(mode === 'dark' ? 'light' : 'dark')\n  }\n  console.log(mode)\n\n  return (\n    <div className=\"theme-selector\">\n      <div className=\"mode-toggle\">\n        <img \n          onClick={toggleMode}\n          src={modeIcon}\n          style={{ filter: mode === 'dark' ? 'invert(100%)' : 'invert(20%)' }}\n          alt=\"dark/light toggle icon\"\n        />\n      </div>\n      <div className=\"theme-buttons\">\n        {themeColors.map(color => (\n          <div \n            key={color} \n            onClick={() => changeColor(color)}\n            style={{ background: color }}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}","import { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport { useTheme } from './hooks/useTheme'\n\n// page components\nimport Navbar from './components/Navbar'\nimport Home from './pages/home/Home'\nimport Create from './pages/create/Create'\nimport Search from './pages/search/Search'\nimport Recipe from './pages/recipe/Recipe'\nimport ThemeSelector from './components/ThemeSelector'\n\n// styles\nimport './App.css'\n\nfunction App() {\n  const { mode } = useTheme()\n\n  return (\n    <div className={`App ${mode}`}>\n      <BrowserRouter>\n        <Navbar />\n        <ThemeSelector />\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/create\">\n            <Create />\n          </Route>\n          <Route path=\"/search\">\n            <Search />\n          </Route>\n          <Route path=\"/recipes/:id\">\n            <Recipe />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { ThemeProvider } from './context/ThemeContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}